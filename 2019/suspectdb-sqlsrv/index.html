<!DOCTYPE html>
<html lang="en">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  
  
  
  
  
  <link rel="prev" href="/2019/join-cell-formula/" />
  <link rel="next" href="/2019/restoredb-sqlsrv/" />
  <link rel="canonical" href="/2019/suspectdb-sqlsrv/" />
  <link rel='shortcut icon' type='image/x-icon' href='/favicon.ico' />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           SQL Server Database Suspect | My Free Resources
       
  </title>
  <meta name="title" content="SQL Server Database Suspect | My Free Resources">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SQL Server Database Suspect"/>
<meta name="twitter:description" content="Terkadang Microsoft SQL Server mengalami error, salah satunya adalah Suspect Database. Salah satu penyebabnya adalah server langsung mati (karena listrik mati atau power failure).
Salah satu solusinya adalah memperbaiki database secara manual. Contoh dalam hal ini nama database adalah DBTes.
1. Buka aplikasi query sql seperti Management Studio
2. Dalam query tersebut ubah database menjadi mode emergency USE master GO ALTER DATABASE DBTes SET EMERGENCY GO 3. Eksekusi perintah dbcc checkdb DBCC CHECKDB (DBTes) GO 4."/>

  <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "SQL Server Database Suspect",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "\/2019\/suspectdb-sqlsrv\/"
  },
  "image": {
    "@type": "ImageObject",
    "url": "cover.png",
    "width":  800 ,
    "height":  600 
  },
  "genre": "posts",
  
  "wordcount":  160 ,
  "url": "\/2019\/suspectdb-sqlsrv\/",
  "datePublished": "2019-03-23T00:00:00\x2b00:00",
  "dateModified": "2019-03-23T00:00:00\x2b00:00",
  
  "publisher": {
    "@type": "Organization",
    "name": "MFR",
    "logo": {
      "@type": "ImageObject",
      "url": "logo.png",
      "width":  127 ,
      "height":  40 
    }
  },
  "author": {
    "@type": "Person",
    "name": "MFR"
  },
  "description": ""
}
</script>
</head>

  



  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="">My Free Resources</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
                <a class="menu-item" href="/ref" title="">References</a>
                
                <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-dribbble"></i></a>&nbsp;
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-dribbble"></i></a>&nbsp;<a href="">My Free Resources</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
                <a class="menu-item" href="/ref" title="">References</a>
                
        </div>
    </div>
</nav>

    	 <main class="main">
          <div class="container">
      		
<article class="post-warp">
    <header class="post-header">
        <h1 class="post-title">SQL Server Database Suspect</h1>
        <div class="post-meta">
            Written by <a href="" rel="author">MFR</a> with ♥ 
                <span class="post-time">
                    on <time datetime=2019-03-23 >23 March 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="/categories/database/"> database </a>
                        <a href="/categories/sql-server/"> sql server </a>
                        
                </span>
                <i class="iconfont icon-timer"></i>
                1 min
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          

<p>Terkadang Microsoft SQL Server mengalami error, salah satunya adalah Suspect Database. Salah satu penyebabnya adalah server langsung mati (karena listrik mati atau power failure).<br />
Salah satu solusinya adalah memperbaiki database secara manual. Contoh dalam hal ini nama database adalah <strong>DBTes</strong>.<br />
1. Buka aplikasi query sql seperti Management Studio<br />
2. Dalam query tersebut ubah database menjadi mode emergency
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">USE master
<span style="color:#66d9ef">GO</span>

<span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">DATABASE</span> DBTes <span style="color:#66d9ef">SET</span> EMERGENCY
<span style="color:#66d9ef">GO</span></code></pre></div>
3. Eksekusi perintah dbcc checkdb
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">DBCC CHECKDB (DBTes)
<span style="color:#66d9ef">GO</span></code></pre></div>
4. Ubah database menjadi single user mode
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">DATABASE</span> DBTes <span style="color:#66d9ef">SET</span> SINGLE_USER <span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">ROLLBACK</span> <span style="color:#66d9ef">IMMEDIATE</span></code></pre></div>
5. Setelah itu jalankan perintah repair database
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">DBCC CHECKDB (DBTes, REPAIR_ALLOW_DATA_LOSS)
<span style="color:#66d9ef">GO</span></code></pre></div>
6. Setelah itu kembalikan mode database ke multi user
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">DATABASE</span> DBTes <span style="color:#66d9ef">SET</span> MULTI_USER
<span style="color:#66d9ef">GO</span></code></pre></div></p>

<h3 id="menggunakan-query">Menggunakan Query</h3>

<p>Jika ingin mengeksekusi perintah di atas secara langsung bisa dengan menggunakan query berikut.
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">EXEC</span> sp_resetstatus <span style="color:#e6db74">&#39;DBTes&#39;</span>;
<span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">DATABASE</span> DBTes <span style="color:#66d9ef">SET</span> EMERGENCY
DBCC CHECKDB (<span style="color:#e6db74">&#39;DBTes&#39;</span>)
<span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">DATABASE</span> DBTes <span style="color:#66d9ef">SET</span> SINGLE_USER <span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">ROLLBACK</span> <span style="color:#66d9ef">IMMEDIATE</span>
DBCC CHECKDB (<span style="color:#e6db74">&#39;DBTes&#39;</span>, REPAIR_ALLOW_DATA_LOSS)
<span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">DATABASE</span> DBTes <span style="color:#66d9ef">SET</span> MULTI_USER</code></pre></div></p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>MFR </span>
                </p>
            
           
           
            
            <p class="copyright-item">
                
                <span>Share:</span>
                <span>

      
        <a href="//twitter.com/share?url=%2f2019%2fsuspectdb-sqlsrv%2f&amp;text=SQL%20Server%20Database%20Suspect&amp;via=muhfachrulrazy" target="_blank" title="Share on Twitter">
          <i class="iconfont icon-twitter"></i>
        </a>
        
      
      
        <a href="//www.facebook.com/sharer/sharer.php?u=%2f2019%2fsuspectdb-sqlsrv%2f" target="_blank" title="Share on Facebook">
          <i class="iconfont icon-facebook"></i>
        </a>
        
      
      
      
      
        <a href="//www.linkedin.com/shareArticle?url=%2f2019%2fsuspectdb-sqlsrv%2f&amp;title=SQL%20Server%20Database%20Suspect" target="_blank" title="Share on LinkedIn">
          <i class="iconfont icon-linkedin"></i>
        </a>
        
      
      
        
      
        
      

          

          

          

          
</span>
                
            </p>

           
    </div>

  
    <div class="post-tags">
        
        <section>
                <a href="javascript:window.history.back();">Back</a></span> · 
                <span><a href="">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="/2019/join-cell-formula/" class="prev" rel="prev" title="Formula Concat dan Vlookup pada Excel"><i class="iconfont icon-dajiantou"></i>&nbsp;Formula Concat dan Vlookup pada Excel</a>
         
        
        <a href="/2019/restoredb-sqlsrv/" class="next" rel="next" title="Restore Database SQL Server">Restore Database SQL Server&nbsp;<i class="iconfont icon-xiaojiantou"></i></a>
        
    </div>

    <div class="post-comment">
          
          <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'yourdiscussshortname';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  

 


          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2015 - 2019</span>
        
         
            <span class="author" itemprop="copyrightHolder"><a href="">MFR</a> | </span>
         

		  <span>Crafted with ❤️ by Us </span>
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  







     </div>
  </body>
</html>
